<div class="card">
    <h3>Pedidos</h3>
    <p-table [value]="pedidos" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>ID</th>
                <th>FECHA PEDIDO</th>
                <th>CLIENTE</th>
                <th>ACCIONES</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-pedido>
            <tr>
                <td>{{ pedido.id }}</td>
                <td><h5>{{ pedido.fecha }}</h5></td>
                <td>
                    <h6>CLIENTE: {{pedido.cliente.nombre_completo}}</h6>
                    <h6>CI/NIT: {{pedido.cliente.ci_nit}}</h6>
                </td>
                <td>
                    <p-button (click)="showDialogPedido(pedido)" icon="pi pi-table" label="Ver Detalle"></p-button>
                    </td>

            </tr>
        </ng-template>
    </p-table>
</div>


<p-dialog header="PEDIDO" [(visible)]="mostrar_pedido" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <h4>DETALLE PEDIDO: #{{ detalle_pedido?.id }}</h4>
    <h3>DATOS CLIENTE</h3>
    <hr>
    <h5>NOMBRE COMPLETO: {{ detalle_pedido?.cliente?.nombre_completo }}</h5>
    <h5>CI/NIT: {{ detalle_pedido?.cliente?.ci_nit }}</h5>
    <h5>TELEFONO: {{ detalle_pedido?.cliente?.telefono }}</h5>
    <hr>
    
    <p-table [value]="detalle_pedido?.productos" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>ID</th>
                <th>NOMBRE</th>
                <th>CANTIDAD</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
            <tr>
                <td>{{ product.id }}</td>
                <td>{{ product.nombre }}</td>
                <td>{{ product.cantidad }}</td>
            </tr>
        </ng-template>
    </p-table>
</p-dialog>